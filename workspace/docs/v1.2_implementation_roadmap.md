# Peer Protocol v1.2 Implementation Roadmap

## Completed in v1.0 / v1.1
- Ed25519 signatures (required)
- Replay protection
- UUID session management
- Sequence numbers
- Chunked transfer
- Rate limiting
- Capability exchange
- Task delegation
- Heartbeat monitoring

## v1.2 Implementation Plan

### Phase 1: Connection Pooling (Priority: High)
- Implement ConnectionPoolManager class
- Integrate with PeerService
- Configuration options
- Performance testing
- Estimated effort: 2-3 days

### Phase 2: DHT Registry (Priority: High)
- Integrate bmuller/kademlia library
- Create DHTRegistry class
- Bootstrap node setup
- Peer discovery protocol
- Estimated effort: 5-7 days

### Phase 3: Automatic Discovery (Priority: Medium)
- Random peer sampling from DHT
- Passive discovery (listen for announces)
- Active discovery (periodic queries)
- Integration with existing peer registry
- Estimated effort: 3-4 days

### Phase 4: Multi-hop Routing (Priority: Low)
- Message forwarding protocol
- TTL-based routing
- Path optimization
- Estimated effort: 7-10 days

## Implementation Order
1. Connection pooling (immediate performance gain)
2. DHT registry (foundation for discovery)
3. Automatic discovery (builds on DHT)
4. Multi-hop routing (advanced feature)

## Dependencies
- kademlia library for DHT
- aiohttp improvements for pooling

Last Updated: 2026-02-01
