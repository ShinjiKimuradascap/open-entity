# v1.2 Phase 1: DHT Foundation Integration Design

## Overview
DHT implementation consolidation and PeerService integration design.

## Current State

### Existing DHT Files (4 implementations)
- kademlia_dht.py (410 lines) - Most complete, use as primary
- dht_registry.py (311 lines) - Simple wrapper, keep for compatibility
- dht.py (661 lines) - Archive
- dht_node.py (1031 lines) - Archive

## Integration Plan

### Task 1: Consolidate
- Enhance kademlia_dht.py with entity_name support
- Refactor dht_registry.py as thin wrapper
- Archive dht.py and dht_node.py

### Task 2: PeerService Integration
- Create dht_integration.py for DHT-PeerService bridge
- Add enable_dht parameter to PeerService

### Task 3: Bootstrap Configuration
- Update config/bootstrap_nodes.json
- Add local testing nodes

## Success Criteria
1. Only 2 DHT files remain
2. DHT integrates with PeerService
3. All tests pass

Created: 2026-02-01
